# Modulation Formats and Wireless Networks
## Digital modulation formats
### Baseband Systems
**Baseband:** no signal modulation; **Bandpass:** modulation.
![[digital modulation.png|179]]![[bandpass vs baseband.png|200]]
**Baseband Signaling (fibre optic):** Binary Modulation, Multi-level modulation (multi-level PAM) : Just PSD stuff.
[[Intro to Telecommunication - 5ETA0#Linecodes and their spectras]]
### Bandpass Systems
#### Binary Modulation
[Passband Modulation](https://en.wikipedia.org/wiki/Passband)
[Understanding Amplitude Shift Keying - YouTube](https://www.youtube.com/watch?v=eJ5m0Sbr2qw)
[Understanding Frequency Shift Keying - YouTube](https://www.youtube.com/watch?v=ogJB5fiQ9kM)

Coherent detection (OOK, BPSK(sync detection), FSK) 
Non-coherent detection (OOK, FSK, DPSK)
$\text{bandpass waveform: }s(t)=R\{g(t)e^{j\omega_{c}t}\}\implies \text{Avg normalized power: }P_{S} \frac{<s^2(t)>}{R}=\frac{1}{2}<|g(t)|^2> \implies \text{Peak envelope power (PEP): }P_{PEP}=\frac{1}{2R}[max|g(t)|]^2\implies \text{Normalized PEP: }P_{PEP,norm}=\frac{1}{2}[max|g(T)|]^2$
$T=\frac{1}{R}$ 
$T_{0}=lT$ 
$f_{0}=D=\frac{1}{T_{0}}=\frac{R}{l}$
$B_{null}=2R$
**OOK (On-off Keying)(Amplitude Shift Keying ASK)**
$s(t)=x(t)\cos(\omega_{c}t)\to x(t)=A_{c}m(t)$
$T=\frac{1}{R(\text{bits/s})}$
$T_{0}=lT$
$\text{periodic: }T_{0}=2T$ and $f_{0}=\frac{1}{T_{0}}=\frac{1}{2T}=\frac{R}{2}\text{ in general }f_{0}=D=\frac{R}{l}\text{ and }T_{0}=lT$
$\text{first zero: }B_{\omega_{T}}=2(2f_{0})$ in general absolute bandwidth $B_{T}=2B$
bandpass waveform: $s(f)=\frac{1}{2}[x(f-f_{c})+x^*(-f-f_{c})]\implies x(f)=\sum^\infty_{-\infty}c_{n}\delta(f-nf_{0})$
$x(t)=\sum^\infty_{\infty}c_{n}e^{jn\omega_{0}t}\implies \text{coeff}=c_{n}=\frac{1}{T_{0}}\int ^{T_{0}/4} _{-T_{0}/4} A_{c}e^{-jn\omega_{0}t} \, dt=\dots=\frac{A_{c}}{2} \frac{\sin\left( n \frac{\pi}{2} \right)}{n \frac{\pi}{2}}$plug that into $x(f)$
$\text{frequency spectrum: }S(f)=\frac{1}{2}[X(f-f_{c})+X^*(-f-f_{c})]$
![[5XTA0/attachments/ook signal.png|400]]
**BPSK (Phase Shift Keying PSK)**
$s(t)=A_{c}\cos[\omega_{c}t+D_{p}m(t)]$
![[bpsk signal.png|300]]![[bpsk signal-1.png|222]]
**FSK (Frequency Shift Keying)**
$s(t)=Re[g(t) \cdot e^{j\omega_{t}t}]\text{ where }g(t)=A_{c}=e^{j\theta(t)}\text{ and }\theta(t)=\int_{-\infty}^{t} m(\tau) \, d\tau$
but for FSK $g(t)$ is hard to evaluate so we use carsons rule $B_{T}=2(\Delta F+B)$ where $B=f_{0}(1+r)\text{ where }f_{0}=\frac{R}{l}$
if sinc pulse $B=R$


always use carsons rule for FSK.
requires approximation. $f_{center}=f_{c}=\frac{f_{1}+f_{2}}{2}$
$h=\frac{2\Delta F}{R}\text{ where }\Delta F=f_{1}-f_{c}$
$\beta=\frac{\Delta F}{B}\to B=R\text{ so }B_{T}=2(\beta+1)B$
cosine roll-off: $r=\frac{f_{\Delta}}{f_{0}}\text{ so }B=f_{0}(1+r)\text{ where there is zeros at: }t=\frac{n}{2f_{0}}\text{ for no ISI }D_{max}=2f_{0}$
$\text{envelope decay: }\frac{1}{|t|^3}$ and $\text{sinc pulse: }r=0\text{ where } \frac{1}{2}f_{0}$
$f_{0}=\frac{R}{2}$

![[fsk signal-1.png|200]]![[fsk signal-2.png|200]]![[fsk spectra.png|200]]
##### Binary Modulation
![[complex representation.png|200]]![[spectrum of bandpass.png|200]]![[signal with digital binary modulation.png|200]]
##### Bandpass Modulation Types
![[dpsk signal.png|80]]![[fsk signal.png|80]]
##### Detector Types
![[5XTA0/attachments/noncoherent detection.png|100]]![[coherent detector.png|100]]![[banspass transmitted and receiver.png|100]]![[fsk detection.png|100]]
coherent: generated by same oscillator. non-coherent multiple oscillators.
For detection see envelope/product detectors. Converters convert bandpass to baseband.
![[matches filter receiver.png|200]]
#### Multilevel Modulation
[Understanding Phase Shift Keying - YouTube](https://www.youtube.com/watch?v=lDSzyEQKE6o)
[Quadrature amplitude modulation - Wikipedia](https://en.wikipedia.org/wiki/Quadrature_amplitude_modulation)
[Phase-shift keying](https://en.wikipedia.org/wiki/Phase-shift_keying)
[modulation - Envelope behavior dIfference between QPSK, OQPSK and $\\pi/4$-QPSK](https://dsp.stackexchange.com/questions/41130/envelope-behavior-difference-between-qpsk-oqpsk-and-pi-4-qpsk)
- Multi-level Phase Shift Keying (QPSK, M-PSK)
- Multi-level Quadrature Amplitude Modulation (M-QAM)
Q -> Quaternary -> $L=4$ levels -> $l=2[\text{bits/symbol}]$
![[multilevel digital modulation.png|300]]
$\text{M-PSK: }g(t)=x(t)+jy(t)=A_{c}e^{j\theta(t)}$
$\text{M-QAM: }g(t)=x(t)+jy(t)=R(t)e^{j\theta(t)}$
will primarly use $\frac{\pi}{4}QPSK$
[Constellation diagram](https://en.wikipedia.org/wiki/Constellation_diagram#:~:text=A%20constellation%20diagram%20is%20a,plane%20at%20symbol%20sampling%20instants.)
phase modulation: angles
amplitude modulation:  distance from origin
transition between states: lines
![[multilevel PSK signal constellation.png|300]]![[QAM quadrature amplitude modulation signal.png|210]]
![[PSD for M-PSK and M-QAM.png|270]]
$\text{for QPSK: }B_{nulltonull}=\frac{2R}{l}\to B_{null}=\frac{R}{l}=D$
![[spectral effiency of bandpass signal.png|300]]

![[null to null 2nd.png|300]]
BPSK: Not bandwidth efficient but not sensitive to amplitude variation and requires only two decision points: binary 1 and 0 separated by 180 deg. 

QPSK: More bandwidth efficient than BPSK but requires more decision points than BPSK. Has a complex carrier symbol with each level having 90 deg phase shift. Requires 4 decision points. Multilevel modulation formats: More bandwidth efficient in order to achieve the same data rate. However, higher order modulations are more complex to generate, e.g encoding and decoding bits, requiring more processing power and costly equipment.
##### Transmitter
![[generalized quadrature transmitter.png|200]]![[QAM transmitter in action.png|200]]![[qam receiver.png|200]]
#### Orthogonal Frequency Division Multiplexing (OFDM)
[OFDM Waveforms - YouTube](https://www.youtube.com/watch?v=F6B4Kyj2rLw&list=PLx7-Q20A1VYIvtMUWX3yd_sQGbQx1qPGP)
[Orthogonal frequency-division multiplexing - Wikipedia](https://en.wikipedia.org/wiki/Orthogonal_frequency-division_multiplexing)
higher spectral efficiency than spread spectrum (other double sideband modulation schemes).
[Sideband - Wikipedia](https://en.wikipedia.org/wiki/Sideband)
![[OFDM waveforms.png|400]]
to fill more channels in the bandwidth
![[OFDM.png|300]]![[ofdm transmitter-1.png|300]]
FFT: fast fourier transform
carrier spacing: $\frac{1}{T}=\frac{B}{N}\text{ where N is number of carriers}$
$B=N \Delta f=N \frac{1}{T}$
$T=NT_{s}\text{ N chosen to be larger then delay}$
OFDM receiver: serial data recovered by: demodulating signal to produce I, Q; converting serial to parallel data; evaluating FFT; converting FFT from parallel to serial
$B_{null}=\frac{N+1}{T}=\frac{N+1}{NT_{s}} \approx \frac{1}{T_{s}}=D_{s}\text{ where }D_{s}\text{ is the symbol (Baud) rate of the input serial data of the transmitter}$
null to null oduble that
![[PSD of OFDM.png|300]]![[peak to average power ratio PAPR.png|300]]
>[!NOTE] adapting signaling
> In adaptive Bit-loading **the number of bits that can be transmitted in each subcarrier is determined by the SNR on the subcarrier**. According to Shannon's theorem we should be able to get more bps/Hz using subcarriers that have higher SNR. Data rate can be varied per carrier.

![[OFDM digital signal processing.png|300]]
#### Spread Spectrum Systems
[Spread spectrum - Wikipedia](https://en.wikipedia.org/wiki/Spread_spectrum)

## Wireless networks
# MAC Technologies and Fixed Networks
## Medium Access
### Basics of MAC Strategies
media access (MAC) protocol for multi user communication.
**media access control:**
- Multiplexing ('point-to-point' communication)
- Multiple Access ('multipoint-to-point' communication)

**multiplexing**
[Multiplexing](https://en.wikipedia.org/wiki/Multiplexing)
- Permanent sender-receiver connections.
- Receivers optimized for specific signals.
- Data can be continuous or packet-based, needing synchronization.
- Channels defined by physical parameters (e.g., time, frequency).
**multiple access**
[Channel access method](https://en.wikipedia.org/wiki/Channel_access_method)
- Multiple stations access and share one channel.
- Receivers handle varying transmissions and select the correct one.
- Transmission starts with a preamble for synchronization.
- Examples include Ethernet and cellular systems.
- MAC differs from MUX but both manage channel access.
- Stations are logically separated by time, frequency, or code to avoid collisions.

$\text{frequency division: }N=\frac{B_{t}-B_{guard}}{B_{c}}\text{ and adding time division: }N=\frac{m(B_{t}-B_{guard})}{B_{c}}$
$\text{where }B_{t}:\text{total available spectrum }B_{guard}:\text{guard spectrum }B_{c}:\text{channel bandwidth }m:\text{number of time slots (num of users)}$
**erlang-b**
[Erlang (unit)](https://en.wikipedia.org/wiki/Erlang_(unit))
[Erlangs B-formule](https://nl.wikipedia.org/wiki/Erlangs_B-formule)
erlang loss model: queuing system, **describes the stochastic behavior of the number of customers receiving service at a service center**
Erlang-B (Loss) model: to get a certain blocking probability, channel number and/or load should be adjusted.
N-number of channels available
you can increase channels or decrease the size of network (coverage)
![[erlang loss model.png|200]]
![[performance modelling 1.png|100]]![[performance modelling 2.png|100]]![[performance modelling 3.png|100]]![[performance modelling 4.png|100]]![[erlanf c model.png|100]]
[erlang graph reading](https://www.youtube.com/watch?v=3nDmy7Q7F5Y)
$\lambda=\text{call arrival intensity } \frac{1}{\mu}=\text{call duration } \rho_{u}=\frac{\lambda}{\mu}=Erl\text{ and }\rho=\text{total Erl}$
![[using the erlang b model.png|500]]
Erlang-C instead of block -> on hold
$\text{probability "on hold" has to wait more than t seconds: }Pr(\text{wait time>1|wait time>0})=\exp\left( -\frac{t(N-\rho)}{1/\mu} \right)$
$\text{probability user wait more than t sec: } Pr(\text{wait time >t})=Pr(\text{wait time>0}) \cdot \exp\left( -\frac{t(N-\rho)}{1/\mu} \right)$
$\text{channels per cell: } \frac{channels}{cells}$
$\text{direct formula erlang-b}=\rho_{b}=\frac{\rho}{\text{total channels N}}=\text{eg: } \frac{\ln 0.03}{250}$
![[application of erlanf-b.png|300]]
### FDMA (/ SCMA and WDMA in fibre networks)
[Frequency Division Multiple Access (FDMA) Techniques](https://www.geeksforgeeks.org/frequency-division-multiple-access-fdma-techniques/)
[Channelization Protocols](https://www.youtube.com/watch?v=KviHyRss-dE)
![[fdma summary.png|300]]![[uplink downlink exmaple.png|300]]
Frequency Division Duplex: FDD: to communicate between stations
**The communication going from a satellite to ground is called downlink, and when it is going from ground to a satellite it is called uplink**
$\text{reuse frequencies: }M(\text{min dist freq reuse})=\frac{N(\text{chan avail})}{k(\text{group of chan to cell})}$
## Wired networks
# Internetworking and Transport Reliability
## Networking
### L2 (Layer 2) forwarding and routing (spanning trees)
#### OSI model
[OSI Model - Text](https://en.wikipedia.org/wiki/OSI_model)
[OSI Explained - Video](https://www.youtube.com/watch?v=vv4y_uOneC0&list=WL&index=90)
![[OSI Layering.png|150]]![[OSI Layering 2.png|143]]![[OSI Layering 3-1.png|104]]![[OSI Layering 4.png|155]]
- **Application:** Protocols network apps use (HTTP,FTP).
- **Presentation:** Data modulation (SSL).
- **Session:** Manage connection (API).
- **Transport:** Data flow control (TCP(slower,feedback)/UDP).
- **Network:** Routers communication (IP(packet)/ROUTING/Pathing).
	- logical addressing: data packet (ip1,ip2/segment).
- **Data Link:** Access media, access control.
	- physical addressing:  frame (mac1/mac2/ip1,ip2/segment/tail).
- **Physical:** Bits to Physical signal and Transfer.
![[OSI Model Flow.png|300]]
#### Internet Structure (Interconnection, Datagram Switching & Networks)
 **hosts** connected over **communication links** which do **packet switching and routing**
 ![[packet switching.png|200]]![[two key network core.png|200]]
- packet switching has queueing and delays.
- Circuit switching reserves a dedicated physical path for the entire connection duration.
- It is connection-oriented; a path must be established before data transmission.
- Packet switching, a connectionless method, sends data packets independently without a dedicated path.
- ISPs communicate between IXPs
![[types of switches.png|200]]![[types of switched internetworks.png|200]]
The link layer, built upon the physical layer, specifies the protocols for sending and receiving bit packets, with Ethernet being the protocol used.
[Difference Datagram Switching & Virtual Circuit](https://www.geeksforgeeks.org/difference-between-datagram-switching-virtual-circuit/#:~:text=Datagram%20packet%20switching%20is%20a,no%20need%20to%20reserve%20resources.)
[Network bridge](https://en.wikipedia.org/wiki/Network_bridge)
See GE.1C for bridging flow (Ethernet Briding and Bridging with Loops)
## Reliable communications